<h1 class="page-header">Creating A Migration</h1>
<div class="doc">
  <div class="goals">
    <h1>Goals</h1>
    <ul>
      <table class="table table-bordered">
        <thead><tr><th>Topics</th></tr></thead>
        <tbody>
          <tr><td>id</td></tr>
          <tr><td>title</td></tr>
          <tr><td>description</td></tr>
        </tbody>
      </table>
      <div class="message">
        <p>The suggestotron has a list of topics that people can vote on. We'll store our topics in the database. In this step you'll do the following:</p>
      </div>
      <li>
        <div class="message">
          <p>Create a a simple <em>Table</em> in the database for topics with a title and a description</p>
        </div>
      </li>
      <li>
        <div class="message">
          <p>Automatically generate the corresponding <em>Scaffold</em> in Rails (namely, the <em>Model</em>, the <em>View</em>, and the <em>Controller</em>).</p>
        </div>
      </li>
    </ul>
  </div>
  <div class="steps">
    <div class="step">
      <h1>Step 1</h1>
      <blockquote>
        <div class="console">
          <span>Type this in the terminal:</span><pre>rails generate scaffold topic title:string description:text</pre>
        </div>
        <div class="message">
          <ul>
            <li>
              <code>generate scaffold</code> tells rails to create everything necessary to get up and running with topics.
            </li>
            <li>
              <code>topic</code> tells rails the name of the new model.
            </li>
            <li>
              <code>title:string</code> says that topics have a title, which is a "string".
            </li>
            <li>
              <code>description:text</code> says that topics have a description which is a "text". (What's the difference between "string" and "text"? Basically "text" is for strings that might be very long.)
            </li>
          </ul>
        </div>
        <div class="message">
          <p>If you want, take some time to poke around the files listed in this step. You can learn about them in the <a href="rails_architecture">Rails Architecture</a> page.</p>
        </div>
        <p class="link">Go on to <a class="link" href="rails_architecture?back=creating_a_migration%23step1">Rails Architecture</a></p>
      </blockquote>
    </div>
    <div class="step">
      <h1>Step 2</h1>
      <blockquote>
        <div class="console">
          <span>Type this in the terminal:</span><pre>rake db:migrate</pre>
        </div>
        <div class="message">
          <p>This tells rails to update the database to include a table for our new model.</p>
        </div>
      </blockquote>
    </div>
  </div>
  <div class="explanation">
    <h1>Explanation</h1>
    <blockquote>
      <h2>Rake</h2>
      <div class="message">
        <p><code>rake</code> <em>(ruby make)</em> is a tool that allows you to run small Ruby programs (<strong>tasks</strong>) that you use often in your application.</p>

        <p>Here, <code>rake db:migrate</code> is a task provided by the Rails framework. It creates a bunch of new files, including a <em>migration</em>, a <em>model</em>, a <em>view</em>, and a <em>controller</em>.</p>
      </div>
      <div class="alert alert-info">
        <h5>
          <i class="fa fa-info-circle fa-2x"></i>
          You can run <code>rake -T</code> to see a list of all the <code>rake</code> commands your app currently responds to, along with a short description of each task.
        </h5>
      </div>
    </div>
  </blockquote>
</div>
</div>